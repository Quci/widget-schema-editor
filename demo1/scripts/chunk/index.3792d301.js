/*!
 * @wibetter/widget-schema-editor v0.2.3
 * author: ldan@wibetter
 * build tool: AKFun
 * build time: Thu Jun 10 2021 09:50:52 GMT+0800 (China Standard Time)
 * build tool info: https://github.com/wibetter/akfun
 */!function(e){function t(t){for(var i,o,p=t[0],c=t[1],d=t[2],l=0,s=[];l<p.length;l++)o=p[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&s.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(u&&u(t);s.length;)s.shift()();return n.push.apply(n,d||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],i=!0,p=1;p<r.length;p++){var c=r[p];0!==a[c]&&(i=!1)}i&&(n.splice(t--,1),e=o(o.s=r[0]))}return e}var i={},a={0:0},n=[];function o(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=i,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(r,i,function(t){return e[t]}.bind(null,i));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/widget-schema-editor/demo1/";var p=window.webpackJsonp=window.webpackJsonp||[],c=p.push.bind(p);p.push=t,p=p.slice();for(var d=0;d<p.length;d++)t(p[d]);var u=c;n.push([335,1]),r()}({277:function(e,t,r){var i=r(278);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,r(28).default)("379cbb38",i,!1,{sourceMap:!1})},278:function(e,t,r){},305:function(e,t,r){var i=r(306);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,r(28).default)("cb440578",i,!1,{sourceMap:!1})},306:function(e,t,r){},308:function(e,t,r){var i=r(309);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,r(28).default)("ee9b166c",i,!1,{sourceMap:!1})},309:function(e,t,r){},310:function(e,t,r){var i=r(311);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,r(28).default)("fb1bdd7a",i,!1,{sourceMap:!1})},311:function(e,t,r){},312:function(e,t,r){var i=r(313);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,r(28).default)("3b806621",i,!1,{sourceMap:!1})},313:function(e,t,r){},330:function(e,t,r){var i=r(331);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,r(28).default)("674f2fa4",i,!1,{sourceMap:!1})},331:function(e,t,r){},335:function(e,t,r){"use strict";r.r(t);r(146);var i,a,n,o,p,c,d,u,l,s,m,y,h,g,f,b=r(69),x=r.n(b),S=r(43),O=r.n(S),w=r(0),j=r.n(w),v=r(22),q=r.n(v),R=r(136),C=r.n(R),k=r(32),P=r(25),E=r.n(P),D=r(37),I=r.n(D),N=r(34),T=r.n(N),A=r(12),W=r.n(A),L=(r(103),r(7)),M=r(62),K=r(15);function _(e,t){var r={};if(t&&t.length>0&&e){var i=e.split("-");if(1===i.length)r=t[i[0]];else{r=t[i[0]];for(var a=1,n=i.length;a<n;a++){var o=i[a];r&&r.child&&r.child[o]&&(r=r.child[o])}}}return r}function J(e){var t={};return"container"===e.type?t=("固定布局"===e.elemName||e.elemName,M.BoxSchemaList.container||{}):"row"===e.type||"column"===e.type?t=M.BoxSchemaList[e.type]||{}:"ui-materiel"===e.type&&(t=M.AntdUISchema[e.name+"Schema"]||{}),t}function B(e){var t={};return"container"===e.type||"row"===e.type||"column"===e.type?t={style:e.style||{}}:"ui-materiel"===e.type&&(t=e.data&&e.data.mockData?JSON.parse(e.data.mockData):{}),t}function H(e,t,r){var i=_(t,e),a=J(i),n=B(i),o=Object(K.e)(r,a);return Object(K.b)(o,n)}function F(e,t){var r={};if(e&&e.propertyOrder&&function(e){var t=!1;"Array"===Object.prototype.toString.call(e).slice(8,-1)&&(t=!0);return t}(e.propertyOrder))for(var i=0,a=e.propertyOrder.length;i<a;i++){var n=e.propertyOrder[i],o=e.properties[n],p=o.propIndexRoute,c=H(t,o.elemIndexRoute,p);r[n]=c}return r}function z(e,t){return JSON.stringify(e)===JSON.stringify(t)}function V(e){var t="";switch(e){case"container":t="块级容器";break;case"row":t="行级容器";break;case"column":t="列级容器";break;case"ui-widget":t="UI组件";break;case"ui-materiel":t="ui元件";break;case"elem-slot":t="占位";break;case"embed-widget-slot":t="嵌套组件占位";break;case"widget":t="jdw内容组件";break;case"widget-slot":t="内容组件占位";break;case"project":t="项目信息"}return t}var U,Z,G,X,Y,Q,$,ee,te,re,ie,ae,ne,oe,pe,ce,de,ue,le,se,me,ye,he,ge={type:"object",title:"widgetSchemaObject",properties:{style:{type:"object",format:"style",title:"样式设置",readOnly:!0,properties:{},required:[],propertyOrder:[]},func:{type:"object",format:"func",title:"功能设置",readOnly:!0,properties:{},required:[],propertyOrder:[]},data:{type:"object",format:"data",title:"数据设置",readOnly:!0,properties:{},required:[],propertyOrder:[]}},required:["style","func","data"],propertyOrder:["style","func","data"]},fe=(i=L.d.bound,a=L.d.bound,n=L.d.bound,o=L.d.bound,p=L.d.bound,c=L.d.bound,d=L.d.bound,u=L.d.bound,l=L.d.bound,s=L.d.bound,m=function(){function e(){I()(this,"triggerChange",y,this),I()(this,"elemIndexRoute",h,this),I()(this,"curElemData",g,this),I()(this,"jsonSchema",f,this)}var t=e.prototype;return t.triggerChangeAction=function(){this.triggerChange=!this.triggerChange},t.updateCurElemIndex=function(e){this.elemIndexRoute=e},t.initCurElemData=function(e){e&&"{}"!==JSON.stringify(e)?z(e,this.curElemDataObj)||(Object(K.h)(e)?this.curElemData=JSON.parse(e):this.curElemData=e):this.curElemData={}},t.initJSONSchemaData=function(e){var t,r;e&&"{}"!==JSON.stringify(e)?z(e,this.JSONSchemaObj)||(Object(K.h)(e)?this.jsonSchema=JSON.parse(e):this.jsonSchema=e):this.jsonSchema=(t=ge,r=JSON.stringify(t),JSON.parse(r))},t.indexRoute2keyRoute=function(e,t){var r=t||this.jsonSchema;return Object(K.e)(e,r)},t.keyRoute2indexRoute=function(e,t){var r=t||this.jsonSchema;return Object(K.i)(e,r)},t.getSchemaByIndexRoute=function(e){return Object(K.c)(e,this.jsonSchema,!0)},t.getSchemaByKeyRoute=function(e){return Object(K.d)(e,this.jsonSchema,!0)},t.checkConditionProp=function(e){var t=!1;return(this.jsonSchema&&this.jsonSchema.conditionProps?this.jsonSchema.conditionProps:{})[e]&&(t=!0),t},t.getPropValueByWidgetLayout=function(e,t){var r=B(_(this.elemIndexRoute,t)),i=this.indexRoute2keyRoute(e);return Object(K.b)(i,r)},T()(e,[{key:"curElemDataObj",get:function(){return Object(L.n)(this.curElemData)}},{key:"JSONSchemaObj",get:function(){return Object(L.n)(this.jsonSchema)}}]),e}(),y=W()(m.prototype,"triggerChange",[L.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=W()(m.prototype,"elemIndexRoute",[L.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=W()(m.prototype,"curElemData",[L.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),f=W()(m.prototype,"jsonSchema",[L.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),W()(m.prototype,"curElemDataObj",[L.e],Object.getOwnPropertyDescriptor(m.prototype,"curElemDataObj"),m.prototype),W()(m.prototype,"JSONSchemaObj",[L.e],Object.getOwnPropertyDescriptor(m.prototype,"JSONSchemaObj"),m.prototype),W()(m.prototype,"triggerChangeAction",[i],Object.getOwnPropertyDescriptor(m.prototype,"triggerChangeAction"),m.prototype),W()(m.prototype,"updateCurElemIndex",[a],Object.getOwnPropertyDescriptor(m.prototype,"updateCurElemIndex"),m.prototype),W()(m.prototype,"initCurElemData",[n],Object.getOwnPropertyDescriptor(m.prototype,"initCurElemData"),m.prototype),W()(m.prototype,"initJSONSchemaData",[o],Object.getOwnPropertyDescriptor(m.prototype,"initJSONSchemaData"),m.prototype),W()(m.prototype,"indexRoute2keyRoute",[p],Object.getOwnPropertyDescriptor(m.prototype,"indexRoute2keyRoute"),m.prototype),W()(m.prototype,"keyRoute2indexRoute",[c],Object.getOwnPropertyDescriptor(m.prototype,"keyRoute2indexRoute"),m.prototype),W()(m.prototype,"getSchemaByIndexRoute",[d],Object.getOwnPropertyDescriptor(m.prototype,"getSchemaByIndexRoute"),m.prototype),W()(m.prototype,"getSchemaByKeyRoute",[u],Object.getOwnPropertyDescriptor(m.prototype,"getSchemaByKeyRoute"),m.prototype),W()(m.prototype,"checkConditionProp",[l],Object.getOwnPropertyDescriptor(m.prototype,"checkConditionProp"),m.prototype),W()(m.prototype,"getPropValueByWidgetLayout",[s],Object.getOwnPropertyDescriptor(m.prototype,"getPropValueByWidgetLayout"),m.prototype),m),be={type:"object",title:"widgetSchemaObject",properties:{style:{type:"object",format:"style",title:"样式设置",readOnly:!0,properties:{},required:[],propertyOrder:[]},func:{type:"object",format:"func",title:"功能设置",readOnly:!0,properties:{},required:[],propertyOrder:[]},data:{type:"object",format:"data",title:"数据设置",readOnly:!0,properties:{},required:[],propertyOrder:[]}},required:["style","func","data"],propertyOrder:["style","func","data"]},xe=(U=L.d.bound,Z=L.d.bound,G=L.d.bound,X=L.d.bound,Y=L.d.bound,Q=L.d.bound,$=L.d.bound,ee=L.d.bound,te=L.d.bound,re=L.d.bound,ie=L.d.bound,ae=L.d.bound,ne=L.d.bound,oe=L.d.bound,pe=L.d.bound,ce=L.d.bound,de=function(){function e(){I()(this,"triggerChange",ue,this),I()(this,"widgetLayout",le,this),I()(this,"widgetSchema",se,this),I()(this,"curMockData",me,this),I()(this,"lastUpdateTime",ye,this),I()(this,"onChange",he,this)}var t=e.prototype;return t.triggerChangeAction=function(){this.triggerChange=!this.triggerChange},t.initWidgetLayout=function(e){e&&"[]"!==JSON.stringify(e)?z(e,this.widgetLayout)||(Object(K.h)(e)?this.widgetLayout=JSON.parse(e):this.widgetLayout=e):this.widgetLayout=[]},t.initWidgetSchema=function(e){e&&"{}"!==JSON.stringify(e)?z(e,this.widgetSchema)||(Object(K.h)(e)?this.widgetSchema=JSON.parse(e):this.widgetSchema=e):this.widgetSchema=be},t.initCurMockData=function(e){e&&"{}"!==JSON.stringify(e)?z(e,this.curMockData)||(Object(K.h)(e)?this.curMockData=JSON.parse(e):this.curMockData=e):this.curMockData={}},t.initOnChange=function(e){(e||function(e){var t=!1;return"Function"===Object.prototype.toString.call(e).slice(8,-1)&&(t=!0),t}(e))&&(this.onChange=e)},t.widgetSchemaChange=function(e){this.widgetSchema.lastUpdateTime=new Date,e||(this.onChange(this.widgetSchemaObj),this.updateLastTime())},t.updateLastTime=function(){this.lastUpdateTime=(new Date).getTime()},t.indexRoute2keyRoute=function(e){return Object(K.e)(e,this.widgetSchema)},t.getSchemaByIndexRoute=function(e){return Object(K.c)(e,this.widgetSchema,!0)},t.getSchemaByKeyRoute=function(e){return Object(K.d)(e,this.widgetSchema,!0)},t.checkConfigProp=function(e){var t=e.jsonKey+"__"+e.elemIndexRoute.replaceAll("-","x")+"_"+e.propIndexRoute.replaceAll("-","x");return!(!this.widgetSchema.properties[e.propType]||!this.widgetSchema.properties[e.propType].properties[t])},t.checkHasConfigProp=function(e){var t=!1;if(!e)return t;var r="__"+e.replaceAll("-","x")+"_";return(t=this.widgetSchema.properties.style.propertyOrder.join(",").indexOf(r)>-1)||(t=this.widgetSchema.properties.func.propertyOrder.join(",").indexOf(r)>-1),t||(t=this.widgetSchema.properties.data.propertyOrder.join(",").indexOf(r)>-1),t},t.checkConfigPropCount=function(e){var t=0;if(!e)return t;var r="__"+e.replaceAll("-","x")+"_",i=this.widgetSchema.properties.style.propertyOrder.filter((function(e){return e.indexOf(r)>-1}));i&&i.length&&(t+=i.length);var a=this.widgetSchema.properties.func.propertyOrder.filter((function(e){return e.indexOf(r)>-1}));a&&a.length&&(t+=a.length);var n=this.widgetSchema.properties.data.propertyOrder.filter((function(e){return e.indexOf(r)>-1}));return n&&n.length&&(t+=n.length),t},t.addConfigProp=function(e){var t=e.jsonKey+"__"+e.elemIndexRoute.replaceAll("-","x")+"_"+e.propIndexRoute.replaceAll("-","x");this.widgetSchema.properties[e.propType].properties[t]=e.propSchema,this.widgetSchema.properties[e.propType].required.push(t),this.widgetSchema.properties[e.propType].propertyOrder.push(t),this.widgetSchemaChange()},t.cancelConfigProp=function(e){var t=e.jsonKey+"__"+e.elemIndexRoute.replaceAll("-","x")+"_"+e.propIndexRoute.replaceAll("-","x");delete this.widgetSchema.properties[e.propType].properties[t];var r=this.widgetSchema.properties[e.propType].propertyOrder.indexOf(t);this.widgetSchema.properties[e.propType].propertyOrder.splice(r,1);var i=this.widgetSchema.properties[e.propType].required.indexOf(t);this.widgetSchema.properties[e.propType].required.splice(i,1),this.widgetSchemaChange()},t.clearConfigProp=function(e){var t="style";"func"===e||"props"===e?t="func":"style"===e?t="style":"data"!==e&&"event"!==e||(t="data"),t&&this.widgetSchema.properties[t]&&(this.widgetSchema.properties[t].properties={},this.widgetSchema.properties[t].propertyOrder=[],this.widgetSchema.properties[t].required=[],this.widgetSchemaChange())},T()(e,[{key:"widgetLayoutObj",get:function(){return Object(L.n)(this.widgetLayout)}},{key:"widgetSchemaObj",get:function(){return Object(L.n)(this.widgetSchema)}},{key:"curMockDataObj",get:function(){return Object(L.n)(this.curMockData)}}]),e}(),ue=W()(de.prototype,"triggerChange",[L.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=W()(de.prototype,"widgetLayout",[L.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=W()(de.prototype,"widgetSchema",[L.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),me=W()(de.prototype,"curMockData",[L.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ye=W()(de.prototype,"lastUpdateTime",[L.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(new Date).getTime()}}),W()(de.prototype,"widgetLayoutObj",[L.e],Object.getOwnPropertyDescriptor(de.prototype,"widgetLayoutObj"),de.prototype),W()(de.prototype,"widgetSchemaObj",[L.e],Object.getOwnPropertyDescriptor(de.prototype,"widgetSchemaObj"),de.prototype),W()(de.prototype,"curMockDataObj",[L.e],Object.getOwnPropertyDescriptor(de.prototype,"curMockDataObj"),de.prototype),he=W()(de.prototype,"onChange",[L.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){}}}),W()(de.prototype,"triggerChangeAction",[U],Object.getOwnPropertyDescriptor(de.prototype,"triggerChangeAction"),de.prototype),W()(de.prototype,"initWidgetLayout",[Z],Object.getOwnPropertyDescriptor(de.prototype,"initWidgetLayout"),de.prototype),W()(de.prototype,"initWidgetSchema",[G],Object.getOwnPropertyDescriptor(de.prototype,"initWidgetSchema"),de.prototype),W()(de.prototype,"initCurMockData",[X],Object.getOwnPropertyDescriptor(de.prototype,"initCurMockData"),de.prototype),W()(de.prototype,"initOnChange",[Y],Object.getOwnPropertyDescriptor(de.prototype,"initOnChange"),de.prototype),W()(de.prototype,"widgetSchemaChange",[Q],Object.getOwnPropertyDescriptor(de.prototype,"widgetSchemaChange"),de.prototype),W()(de.prototype,"updateLastTime",[$],Object.getOwnPropertyDescriptor(de.prototype,"updateLastTime"),de.prototype),W()(de.prototype,"indexRoute2keyRoute",[ee],Object.getOwnPropertyDescriptor(de.prototype,"indexRoute2keyRoute"),de.prototype),W()(de.prototype,"getSchemaByIndexRoute",[te],Object.getOwnPropertyDescriptor(de.prototype,"getSchemaByIndexRoute"),de.prototype),W()(de.prototype,"getSchemaByKeyRoute",[re],Object.getOwnPropertyDescriptor(de.prototype,"getSchemaByKeyRoute"),de.prototype),W()(de.prototype,"checkConfigProp",[ie],Object.getOwnPropertyDescriptor(de.prototype,"checkConfigProp"),de.prototype),W()(de.prototype,"checkHasConfigProp",[ae],Object.getOwnPropertyDescriptor(de.prototype,"checkHasConfigProp"),de.prototype),W()(de.prototype,"checkConfigPropCount",[ne],Object.getOwnPropertyDescriptor(de.prototype,"checkConfigPropCount"),de.prototype),W()(de.prototype,"addConfigProp",[oe],Object.getOwnPropertyDescriptor(de.prototype,"addConfigProp"),de.prototype),W()(de.prototype,"cancelConfigProp",[pe],Object.getOwnPropertyDescriptor(de.prototype,"cancelConfigProp"),de.prototype),W()(de.prototype,"clearConfigProp",[ce],Object.getOwnPropertyDescriptor(de.prototype,"clearConfigProp"),de.prototype),de),Se={elemSchemaStore:new fe,widgetSchemaStore:new xe},Oe=(r(156),r(143)),we=r.n(Oe),je=(r(87),r(40)),ve=r.n(je),qe=(r(163),r(142)),Re=r.n(qe),Ce=r(51),ke=r.n(Ce),Pe=(r(70),r(47)),Ee=r.n(Pe),De=r(345),Ie=r(13),Ne=r.n(Ie),Te=(r(256),r(140)),Ae=r.n(Te),We=(r(259),r(100)),Le=r.n(We),Me=(r(262),r(99)),Ke=r.n(Me),_e=r(343),Je=r(344),Be=(r(277),Ke.a.Option),He=function(e){function t(t){var r;return(r=e.call(this,t)||this).setProp2configProp=function(){var e=r.props.addConfigProp,t=r.props,i=t.widgetLayoutObj,a=t.elemIndexRoute,n=t.jsonSchema,o=t.getPropValueByWidgetLayout,p=r.props,c=p.parentType,d=p.indexRoute,u=p.jsonKey,l=p.targetJsonSchema,s=Object(L.n)(n),m=Object(L.n)(l),y=o(d,i);m.isDynamicParam=!0,m.elemIndexRoute=a,m.propIndexRoute=d,m.description?m.description=s.title+"-"+m.title+"："+m.description:m.description=s.title+"-"+m.title,m.default=y;var h=r.checkConditionProp();m.isConditionProp=h,e({elemIndexRoute:a,propIndexRoute:d,propType:c,jsonKey:u,propSchema:m})},r.propCheckboxEvent=function(e){e.target.checked?r.setProp2configProp():r.cancelConfigProp()},r.cancelConfigProp=function(){var e=r.props.cancelConfigProp,t=r.props,i=t.parentType;e({elemIndexRoute:t.elemIndexRoute,propIndexRoute:t.indexRoute,propType:i,jsonKey:t.jsonKey})},r.checkConfigProp=function(){var e=r.props.checkConfigProp,t=r.props,i=t.parentType;return e({elemIndexRoute:t.elemIndexRoute,propIndexRoute:t.indexRoute,propType:i,jsonKey:t.jsonKey})},r.checkConditionProp=function(){var e=r.props.indexRoute,t=r.props,i=t.indexRoute2keyRoute;return(0,t.checkConditionProp)(i(e))},r.clearConfigProp=function(){var e=r.props,t=e.jsonKey;(0,e.clearConfigProp)(t)},r.setProp2configProp=r.setProp2configProp.bind(ke()(r)),r}return O()(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.parentType,i=t.nodeKey,a=t.jsonKey,n=t.elemIndexRoute,o=t.targetJsonSchema,p=t.indexRoute,c=t.curLastUpdateTime,d=this.props,u=d.checkConfigProp,l=d.keyRoute2indexRoute,s=Object(K.a)(o),m=Object(K.g)(s)||!1,y=this.checkConfigProp(),h=this.checkConditionProp(),g=c+"-"+i+"-"+n+"-"+p+"-"+p,f=!0,b={};o.hiddenRule&&(b=o.hiddenRule);var x="";if(b.conditionProp){var S=b.conditionProp;x=S.key,f=u({elemIndexRoute:n,propIndexRoute:l(S.keyRoute),propType:r,jsonKey:x})}!f&&y&&setTimeout((function(){e.cancelConfigProp()}),0);return g=g+"-"+f+"-"+!1,w.createElement(w.Fragment,null,o&&w.createElement("div",{className:"base-schema-box "+(h?"is-condition-prop":""),id:g,key:g},w.createElement("div",{className:"key-input-item"},w.createElement(ve.a,{title:(a||o.title)+"是条件字段"},w.createElement(Le.a,{value:a||"key值不存在",disabled:!1}))),w.createElement("div",{className:"type-select-item"},w.createElement(Ke.a,{value:s,style:{width:150},disabled:!1},w.createElement(Be,{value:s},s))),w.createElement("div",{className:"title-input-item"},w.createElement(ve.a,{title:(o.title||a)+"是条件字段"},w.createElement(Le.a,{value:o.title,disabled:!1}))),w.createElement("div",{className:"operate-item"},m&&o.propertyOrder.length>0&&w.createElement(ve.a,{title:"点击清空此对象下面的可配置项"},w.createElement(_e.a,{onClick:this.clearConfigProp})),f&&!m&&w.createElement(ve.a,{title:"设置为可配置项"},w.createElement(Ae.a,{id:g,key:g,onChange:this.propCheckboxEvent,defaultChecked:y,disabled:!1},"可配置")),!f&&w.createElement(ve.a,{title:"请先将条件字段"+(x||"")+"设置为可配置"},w.createElement(Je.a,null)))),!o&&w.createElement("div",{className:"base-schema-box"},w.createElement("div",{className:"warn-text"},a,"：数据元素为空")))},t}(w.PureComponent);He.propTypes={parentType:E.a.string,jsonKey:E.a.string,indexRoute:E.a.string,nodeKey:E.a.string,targetJsonSchema:E.a.any};var Fe=Object(k.b)((function(e){return{elemIndexRoute:e.elemSchemaStore.elemIndexRoute,curElemDataObj:e.elemSchemaStore.curElemDataObj,jsonSchema:e.elemSchemaStore.jsonSchema,indexRoute2keyRoute:e.elemSchemaStore.indexRoute2keyRoute,keyRoute2indexRoute:e.elemSchemaStore.keyRoute2indexRoute,checkConditionProp:e.elemSchemaStore.checkConditionProp,getPropValueByWidgetLayout:e.elemSchemaStore.getPropValueByWidgetLayout,widgetLayoutObj:e.widgetSchemaStore.widgetLayoutObj,checkConfigProp:e.widgetSchemaStore.checkConfigProp,addConfigProp:e.widgetSchemaStore.addConfigProp,cancelConfigProp:e.widgetSchemaStore.cancelConfigProp,curLastUpdateTime:e.widgetSchemaStore.lastUpdateTime,clearConfigProp:e.widgetSchemaStore.clearConfigProp}}))(Object(k.c)(He)),ze=Ee.a.TreeNode,Ve=function(e){var t,r=e.jsonKey,i=e.indexRoute,a=e.nodeKey,n=e.targetJsonSchema,o=Object(K.a)(n);return j.a.createElement(ze,{className:o+"-schema schema-item-form",id:a,key:a,indexRoute:i,jsonKey:r,title:(t=Ne()({},e),j.a.createElement(Fe,t))})},Ue=function(e){var t=e.targetJsonSchema;switch(Object(K.a)(t)){case"func":case"style":case"data":case"widgets":case"func-schema":case"style-schema":case"data-schema":case"widgets-schema":case"event-schema":return Xe(e);default:return Ve(e)}},Ze=Ee.a.TreeNode,Ge=function(e){return j.a.createElement(Fe,e)},Xe=function(e){var t,r,i,a,n,o,p=e.jsonKey,c=e.indexRoute,d=e.nodeKey,u=e.targetJsonSchema,l=e.isOnlyShowChild,s=Object(K.a)(u),m=Object(K.g)(s),y=(t={propertyOrder:u.propertyOrder,properties:u.properties,parentIndexRoute:c,parentNodeKey:d,parentType:s,isOnlyShowChild:l},r=t.propertyOrder,i=t.properties,a=t.parentIndexRoute,n=t.parentNodeKey,o=t.parentType,r.map((function(e,t){var r=a?a+"-"+t:""+t,p=e,c=i[p],d=Object(K.a)(c),u=(n?n+"-":"")+d+"-"+p;return Ue({parentType:o,jsonKey:p,indexRoute:r,key:u,nodeKey:u,targetJsonSchema:c})}))),h=j.a.createElement(Ze,{className:s+"-schema schema-item-form",id:d,key:d,indexRoute:c,jsonKey:p,disabled:m,title:Ge(Ne()({},e))},y);return l?y:h},Ye=(r(302),r(141)),Qe=r.n(Ye),$e=(r(305),Object(k.b)((function(e){return{jsonSchema:e.elemSchemaStore.jsonSchema}}))(Object(k.c)((function(e){var t=e.jsonSchema,r={};t.conditionProps&&(r=Object(L.n)(t.conditionProps));var i=Object.keys(r);return 0===i.length?"":j.a.createElement("div",{className:"condition-props-box"},j.a.createElement("div",{className:"title"},j.a.createElement(ve.a,{title:"其他字段可根据条件字段的数值设置规则联动",placement:"top"},"条件字段:")),j.a.createElement("div",{className:"tags-box"},i.map((function(e){var t=r[e];return j.a.createElement(Qe.a,{key:t.keyRoute,color:"geekblue",closable:!1},t.key,"(",t.title,")")}))))})))),et=(r(308),function(e){function t(t){var r;return(r=e.call(this,t)||this).catchExpandedKeys=function(e){var t=[];return e&&e.propertyOrder&&e.properties&&e.propertyOrder.map((function(r,i){var a=r,n=e.properties[a],o=Object(K.a)(n)+"-"+a;t.push(o)})),t},t.elemIndexRoute&&r.props.updateCurElemIndex(t.elemIndexRoute),t.curElemData&&r.props.initCurElemData(t.curElemData),t.curSchemaData&&r.props.initJSONSchemaData(t.curSchemaData),r}O()(t,e);var r=t.prototype;return r.componentWillReceiveProps=function(e){z(e.elemIndexRoute,this.props.elemIndexRoute)||this.props.updateCurElemIndex(e.elemIndexRoute),z(e.curElemData,this.props.curElemData)||this.props.initCurElemData(e.curElemData),z(e.curSchemaData,this.props.curSchemaData)||this.props.initJSONSchemaData(e.curSchemaData)},r.render=function(){var e=this.props.jsonSchema,t=Object(K.f)(e),r=Object(K.a)(e);return w.createElement("div",{className:"json-schema-container scroll-ability"},!t&&w.createElement(w.Fragment,null,w.createElement($e,null),w.createElement(Ee.a,{selectable:!1,defaultExpandAll:!0},"object"===r&&Xe({parentType:"",jsonKey:"",indexRoute:"",nodeKey:"",targetJsonSchema:e,isOnlyShowChild:!0}),"object"!==r&&Ue({parentType:"",jsonKey:"",indexRoute:"",nodeKey:"first-schema",targetJsonSchema:e,key:"schema"}))),t&&w.createElement("p",{className:"json-schema-empty"},"当前jsonSchema没有数据内容"))},t}(w.PureComponent));et.propTypes={elemIndexRoute:E.a.string,curElemData:E.a.object,curSchemaData:E.a.object};var tt=Object(k.b)((function(e){return{jsonSchema:e.elemSchemaStore.jsonSchema,initCurElemData:e.elemSchemaStore.initCurElemData,initJSONSchemaData:e.elemSchemaStore.initJSONSchemaData,updateCurElemIndex:e.elemSchemaStore.updateCurElemIndex,getSchemaByIndexRoute:e.elemSchemaStore.getSchemaByIndexRoute,indexRoute2keyRoute:e.elemSchemaStore.indexRoute2keyRoute}}))(Object(k.c)(et)),rt=(r(310),r(312),Ee.a.TreeNode),it=function(e){function t(t){var r;return(r=e.call(this,t)||this).onTreeSelect=function(e){r.props.updateCurrentActiveIndex(e[0])},r.elemTitleSchema=function(e,t){var i=r.props.checkHasConfigProp(t),a=0;return i&&(a=r.props.checkConfigPropCount(t)),w.createElement("div",{className:"layout-item-cont"},w.createElement("div",{className:"layout-item-title",title:e},e),w.createElement("div",{className:"layout-item-icon"},w.createElement("div",{className:"icon-add-schema"},i&&w.createElement(ve.a,{title:"当前元素有"+a+"个可配置项"},w.createElement(Re.a,{count:a,size:"small"})," ")),w.createElement("div",{className:"icon-add-schema",onClick:function(e){e.preventDefault(),e.stopPropagation(),r.showElemSchemaEditor(t)}},w.createElement(ve.a,{title:"点击添加配置项"},w.createElement(De.a,null)))))},r.getTreeContainer=function(e,t){return e&&e.length>0&&e.map((function(e,i){var a=t?t+"-"+i:i+"";return"container"===e.type&&w.createElement(rt,{className:"tree-widget-container",key:a,title:r.elemTitleSchema(e.elemName?e.elemName:V(e.type),a)},r.getTreeRow(e.child,a))}))},r.getTreeRow=function(e,t){return e&&e.length>0&&e.map((function(e,i){var a=t?t+"-"+i:i+"";return"row"===e.type&&w.createElement(rt,{className:"tree-widget-row",key:a,title:r.elemTitleSchema(e.elemName?e.elemName:V(e.type),a)},r.getTreeColumn(e.child,a))}))},r.getTreeColumn=function(e,t){return e&&e.length>0&&e.map((function(e,i){var a=t?t+"-"+i:i+"";return"column"===e.type&&w.createElement(rt,{className:"tree-widget-column",key:a,title:r.elemTitleSchema(e.elemName?e.elemName:V(e.type),a)},r.getTreeWidgetBox(e.child,a))}))},r.getTreeWidgetBox=function(e,t){return e&&e.length>0&&e.map((function(e,i){var a,n,o,p,c=t?t+"-"+i:i+"";return o=e.type,p=!1,"ui-materiel"!==o&&"ui-widget"!==o&&"widget"!==o||(p=!0),p?w.createElement(rt,{className:"tree-jdw-widget",title:r.elemTitleSchema(e.elemName?e.elemName:e.name||V(e.type),c),key:c}):(a=e.type,n=!1,"widget-slot"!==a&&"elem-slot"!==a&&"embed-widget-slot"!==a||(n=!0),n?w.createElement(rt,{className:"tree-"+e.type,title:r.elemTitleSchema(e.elemName?e.elemName:V(e.type),c),key:c}):"container"===e.type?w.createElement(rt,{className:"tree-widget-container",key:c,title:r.elemTitleSchema(e.elemName?e.elemName:V(e.type),c)},r.getTreeRow(e.child,c)):w.createElement(rt,{title:"未知元素",key:c}))}))},r.state={defaultSelectedKeys:[],elemIndexRoute:"",curElemData:{},curSchemaData:{},elemSchemaVisible:!1},t.currentWidgetLayout&&r.props.initWidgetLayout(t.currentWidgetLayout),t.widgetSchema&&r.props.initWidgetSchema(t.widgetSchema),t.mockData&&r.props.initCurMockData(t.mockData),t.onChange&&r.props.initOnChange(t.onChange),r.closeElemSchema=r.closeElemSchema.bind(ke()(r)),r}O()(t,e);var r=t.prototype;return r.componentWillMount=function(){if(this.props.currentActiveIndex){var e=[];e.push(this.props.currentActiveIndex),this.setState({defaultSelectedKeys:e})}},r.componentWillReceiveProps=function(e){if(this.props.currentActiveIndex!==e.currentActiveIndex){var t=[];e.currentActiveIndex?(t.push(e.currentActiveIndex),this.setState({defaultSelectedKeys:t})):this.setState({defaultSelectedKeys:[]})}z(e.currentWidgetLayout,this.props.currentWidgetLayout)||this.props.initWidgetLayout(e.widgetLayout),z(e.widgetSchema,this.props.widgetSchema)||this.props.initWidgetSchema(e.widgetSchema),z(e.mockData,this.props.mockData)||this.props.initCurMockData(e.mockData),z(e.onChange,this.props.onChange)||this.props.initOnChange(e.onChange)},r.closeElemSchema=function(){this.setState({elemSchemaVisible:!1})},r.showElemSchemaEditor=function(e){var t=_(e,this.props.currentWidgetLayout);if(t&&t.data&&t.data.schema)this.setState({elemIndexRoute:e,curElemData:t,curSchemaData:t.data.schema,elemSchemaVisible:!0});else if(t&&t.type){var r=J(t);this.setState({elemIndexRoute:e,curElemData:t,curSchemaData:r,elemSchemaVisible:!0})}},r.render=function(){var e=this.props.currentWidgetLayout,t=this.state,r=t.elemIndexRoute,i=t.curElemData,a=t.curSchemaData,n=t.elemSchemaVisible;return w.createElement("div",{id:"widget-schema-editor",className:"widget-schema-editor-container"},w.createElement("div",{id:"widgetLayoutTree",className:"content widget-layout-tree"},e&&e.length>0&&w.createElement(Ee.a,{showLine:!0,defaultExpandAll:!0,selectedKeys:this.state.defaultSelectedKeys.length>=1?this.state.defaultSelectedKeys:[],blockNode:!1,virtual:!1,onSelect:this.onTreeSelect},this.getTreeContainer(e,"")),e&&0===e.length&&w.createElement("p",{className:"text-center"},"暂无模型数据")),n&&w.createElement(we.a,{title:a&&a.title?a.title+"（添加配置项）":"添加配置项",width:700,visible:n,onCancel:this.closeElemSchema,footer:null},w.createElement(tt,{elemIndexRoute:r,curElemData:i,curSchemaData:a})))},t}(w.PureComponent);it.propTypes={currentWidgetLayout:E.a.any,currentActiveIndex:E.a.string,updateCurrentActiveIndex:E.a.func,widgetSchema:E.a.object,mockData:E.a.object,onChange:E.a.func};var at=Object(k.b)((function(e){return{initWidgetLayout:e.widgetSchemaStore.initWidgetLayout,initWidgetSchema:e.widgetSchemaStore.initWidgetSchema,initCurMockData:e.widgetSchemaStore.initCurMockData,initOnChange:e.widgetSchemaStore.initOnChange,checkHasConfigProp:e.widgetSchemaStore.checkHasConfigProp,checkConfigPropCount:e.widgetSchemaStore.checkConfigPropCount}}))(Object(k.c)(it)),nt=function(e){function t(){return e.apply(this,arguments)||this}return O()(t,e),t.prototype.render=function(){return w.createElement(k.a,{widgetSchemaStore:Se.widgetSchemaStore,elemSchemaStore:Se.elemSchemaStore},w.createElement(at,this.props))},t}(w.PureComponent);nt.propTypes={currentWidgetLayout:E.a.any,currentActiveIndex:E.a.string,updateCurrentActiveIndex:E.a.func,widgetSchema:E.a.object,mockData:E.a.object,onChange:E.a.func};var ot=r(144),pt=r.n(ot),ct=(r(326),r(327),r(328),r(330),function(e){function t(t){var r;return(r=e.call(this,t)||this).updateCurrentActiveIndex=function(e){r.setState({currentActiveIndex:e})},r.state={widgetLayout:[{type:"container",class:["widget-container"],child:[{type:"row",class:["widget-row"],child:[{type:"column",class:["widget-column"],child:[{type:"ui-materiel",class:["ui-materiel"],data:{schema:{type:"object",name:"text",title:"普通文本","ui-type":"ui-materiel","ui-name":"antd","ui-framework":"react",format:"object",properties:{props:{type:"object",format:"func",title:"属性设置",readOnly:!1,properties:{textCont:{type:"string",title:"文本内容",format:"textarea",default:"普通文本内容",description:"",placeholder:"",isRequired:!1,readOnly:!1}},required:["textCont"],propertyOrder:["textCont"]},style:{type:"object",format:"style",title:"样式设置",readOnly:!1,properties:{margin:{type:"object",format:"box-style",title:"外边距",isRequired:!1,readOnly:!1,properties:{unit:{type:"string",title:"单位数值",format:"string",default:"0",description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"]},padding:{type:"object",format:"box-style",title:"内边距",isRequired:!1,readOnly:!1,properties:{unit:{type:"string",title:"单位数值",format:"string",default:"0",description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"]},lineHeight:{type:"object",format:"quantity",title:"行高",isRequired:!1,readOnly:!1,properties:{unit:{type:"number",title:"单位数值",format:"number",default:30,minimum:0,maximum:1e3,description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"]},height:{type:"object",format:"quantity",title:"高度",isRequired:!1,readOnly:!1,properties:{unit:{type:"number",title:"单位数值",format:"number",default:50,minimum:0,maximum:1e3,description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"],hiddenRule:{conditionProp:{key:"fixedHeight",keyRoute:"style-fixedHeight",title:"定高",format:"boolean",type:"boolean"},conditionValue:!1}},width:{type:"object",format:"quantity",title:"宽度",isRequired:!1,readOnly:!1,properties:{unit:{type:"number",title:"单位数值",format:"number",default:200,minimum:0,maximum:1e3,description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"],hiddenRule:{conditionProp:{key:"fixedWidth",keyRoute:"style-fixedWidth",title:"定宽",format:"boolean",type:"boolean"},conditionValue:!1}},fontSize:{type:"object",format:"quantity",title:"字体大小",isRequired:!1,readOnly:!1,properties:{unit:{type:"number",title:"单位数值",format:"number",default:14,minimum:0,maximum:1e3,description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"]},fontWeight:{type:"number",title:"字体粗细",format:"number",default:400,minimum:0,maximum:"2000",description:"正常粗细与400等值； 加粗与700等值。",isRequired:!1,readOnly:!1},textAlign:{type:"string",title:"文本排列",format:"radio",items:{type:"string",enum:["left","right","center"],enumextra:["左","右","居中"]},description:"",isRequired:!1,readOnly:!1,default:"left"},color:{type:"string",title:"字体颜色",format:"color",default:"#000000",description:"",isRequired:!1,readOnly:!1},textIndent:{type:"object",format:"quantity",title:"缩进量",isRequired:!1,readOnly:!1,properties:{unit:{type:"number",title:"单位数值",format:"number",default:0,minimum:0,maximum:1e3,description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"],description:"首行文本内容之前的缩进量"},fontFamily:{type:"string",title:"字体",format:"single-select",items:{type:"string",enum:["serif","PingFangSC-Semibold","PingFangSC-Regular","PingFangSC-Medium","sans-serif","monospace","cursive","fantasy","system-ui","math","emoji","fangsong"],enumextra:["serif","PingFangSC-Semibold","PingFangSC-Regular","PingFangSC-Medium","sans-serif","monospace","cursive","fantasy","system-ui","math","emoji","fangsong"]},description:"参考：https://developer.mozilla.org/zh-CN/docs/Web/CSS/font-family",isRequired:!1,readOnly:!1,default:"serif"},fixedHeight:{type:"boolean",title:"定高",format:"boolean",default:!1,description:"",isRequired:!1,readOnly:!1},fixedWidth:{type:"boolean",title:"定宽",format:"boolean",default:!1,description:"",isRequired:!1,readOnly:!1}},required:["margin","padding","lineHeight","height","width","fontSize","fontWeight","textAlign","color","textIndent","fontFamily","fixedHeight","fixedWidth"],propertyOrder:["margin","padding","fixedHeight","height","fixedWidth","width","fontFamily","fontSize","fontWeight","textIndent","lineHeight","textAlign","color"]},data:{type:"object",format:"data",title:"数据设置",readOnly:!1,properties:{},required:[],propertyOrder:[]},event:{type:"object",format:"event-schema",title:"事件设置",isFixedSchema:!0,readOnly:!1,properties:{},required:[],propertyOrder:[]}},required:["props","style","data","event"],propertyOrder:["props","style","data","event"],lastUpdateTime:"2021-04-29T07:53:18.352Z",conditionProps:{"style-fixedHeight":{key:"fixedHeight",keyRoute:"style-fixedHeight",title:"定高",format:"boolean",type:"boolean"},"style-fixedWidth":{key:"fixedWidth",keyRoute:"style-fixedWidth",title:"定宽",format:"boolean",type:"boolean"}}},mockData:'{"props":{"textCont":"成功案例"},"style":{"margin":{"unit":"0px 0px 8px 0px","quantity":"px"},"padding":{"unit":"0","quantity":"px"},"fixedHeight":false,"height":{"unit":50,"quantity":"px"},"fixedWidth":false,"width":{"unit":200,"quantity":"px"},"fontFamily":"PingFangSC-Semibold","fontSize":{"unit":28,"quantity":"px"},"fontWeight":400,"textIndent":{"unit":0,"quantity":"px"},"lineHeight":{"unit":42,"quantity":"px"},"textAlign":"left","color":"#ffffff"},"data":{},"event":{}}'},name:"text",title:"普通文本"},{type:"ui-materiel",class:["ui-materiel"],name:"text",title:"普通文本",data:{schema:{type:"object",name:"text",title:"普通文本","ui-type":"ui-materiel","ui-name":"antd","ui-framework":"react",format:"object",properties:{props:{type:"object",format:"func",title:"属性设置",readOnly:!1,properties:{textCont:{type:"string",title:"文本内容",format:"textarea",default:"普通文本内容",description:"",placeholder:"",isRequired:!1,readOnly:!1}},required:["textCont"],propertyOrder:["textCont"]},style:{type:"object",format:"style",title:"样式设置",readOnly:!1,properties:{margin:{type:"object",format:"box-style",title:"外边距",isRequired:!1,readOnly:!1,properties:{unit:{type:"string",title:"单位数值",format:"string",default:"0",description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"]},padding:{type:"object",format:"box-style",title:"内边距",isRequired:!1,readOnly:!1,properties:{unit:{type:"string",title:"单位数值",format:"string",default:"0",description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"]},lineHeight:{type:"object",format:"quantity",title:"行高",isRequired:!1,readOnly:!1,properties:{unit:{type:"number",title:"单位数值",format:"number",default:30,minimum:0,maximum:1e3,description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"]},height:{type:"object",format:"quantity",title:"高度",isRequired:!1,readOnly:!1,properties:{unit:{type:"number",title:"单位数值",format:"number",default:50,minimum:0,maximum:1e3,description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"],hiddenRule:{conditionProp:{key:"fixedHeight",keyRoute:"style-fixedHeight",title:"定高",format:"boolean",type:"boolean"},conditionValue:!1}},width:{type:"object",format:"quantity",title:"宽度",isRequired:!1,readOnly:!1,properties:{unit:{type:"number",title:"单位数值",format:"number",default:200,minimum:0,maximum:1e3,description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"],hiddenRule:{conditionProp:{key:"fixedWidth",keyRoute:"style-fixedWidth",title:"定宽",format:"boolean",type:"boolean"},conditionValue:!1}},fontSize:{type:"object",format:"quantity",title:"字体大小",isRequired:!1,readOnly:!1,properties:{unit:{type:"number",title:"单位数值",format:"number",default:14,minimum:0,maximum:1e3,description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"]},fontWeight:{type:"number",title:"字体粗细",format:"number",default:400,minimum:0,maximum:"2000",description:"正常粗细与400等值； 加粗与700等值。",isRequired:!1,readOnly:!1},textAlign:{type:"string",title:"文本排列",format:"radio",items:{type:"string",enum:["left","right","center"],enumextra:["左","右","居中"]},description:"",isRequired:!1,readOnly:!1,default:"left"},color:{type:"string",title:"字体颜色",format:"color",default:"#000000",description:"",isRequired:!1,readOnly:!1},textIndent:{type:"object",format:"quantity",title:"缩进量",isRequired:!1,readOnly:!1,properties:{unit:{type:"number",title:"单位数值",format:"number",default:0,minimum:0,maximum:1e3,description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"],description:"首行文本内容之前的缩进量"},fontFamily:{type:"string",title:"字体",format:"single-select",items:{type:"string",enum:["serif","PingFangSC-Semibold","PingFangSC-Regular","PingFangSC-Medium","sans-serif","monospace","cursive","fantasy","system-ui","math","emoji","fangsong"],enumextra:["serif","PingFangSC-Semibold","PingFangSC-Regular","PingFangSC-Medium","sans-serif","monospace","cursive","fantasy","system-ui","math","emoji","fangsong"]},description:"参考：https://developer.mozilla.org/zh-CN/docs/Web/CSS/font-family",isRequired:!1,readOnly:!1,default:"serif"},fixedHeight:{type:"boolean",title:"定高",format:"boolean",default:!1,description:"",isRequired:!1,readOnly:!1},fixedWidth:{type:"boolean",title:"定宽",format:"boolean",default:!1,description:"",isRequired:!1,readOnly:!1}},required:["margin","padding","lineHeight","height","width","fontSize","fontWeight","textAlign","color","textIndent","fontFamily","fixedHeight","fixedWidth"],propertyOrder:["margin","padding","fixedHeight","height","fixedWidth","width","fontFamily","fontSize","fontWeight","textIndent","lineHeight","textAlign","color"]},data:{type:"object",format:"data",title:"数据设置",readOnly:!1,properties:{},required:[],propertyOrder:[]},event:{type:"object",format:"event-schema",title:"事件设置",isFixedSchema:!0,readOnly:!1,properties:{},required:[],propertyOrder:[]}},required:["props","style","data","event"],propertyOrder:["props","style","data","event"],lastUpdateTime:"2021-04-29T07:53:18.352Z",conditionProps:{"style-fixedHeight":{key:"fixedHeight",keyRoute:"style-fixedHeight",title:"定高",format:"boolean",type:"boolean"},"style-fixedWidth":{key:"fixedWidth",keyRoute:"style-fixedWidth",title:"定宽",format:"boolean",type:"boolean"}}},mockData:'{"props":{"textCont":"沉淀多年的京东技术能力，助力合作伙伴搭建商业生态"},"style":{"margin":{"unit":"0px 0px 42px 0px","quantity":"px"},"padding":{"unit":"0","quantity":"px"},"fixedHeight":false,"height":{"unit":50,"quantity":"px"},"fixedWidth":false,"width":{"unit":200,"quantity":"px"},"fontFamily":"PingFangSC-Regular","fontSize":{"unit":18,"quantity":"px"},"fontWeight":400,"textIndent":{"unit":0,"quantity":"px"},"lineHeight":{"unit":28,"quantity":"px"},"textAlign":"left","color":"#f8f6f6"},"data":{},"event":{}}'}},{type:"ui-materiel",class:["ui-materiel"],name:"imgCarousel",title:"imgCarousel 图片轮播",data:{schema:{type:"object",name:"imgCarousel",title:"imgCarousel 图片轮播","ui-type":"ui-materiel","ui-name":"antd","ui-framework":"react",format:"object",properties:{props:{type:"object",format:"func",title:"属性设置",readOnly:!1,properties:{autoplay:{type:"boolean",title:"自动切换",format:"boolean",default:!0,description:"",isRequired:!1,readOnly:!1},dotPosition:{type:"string",title:"指示点位置",format:"radio",items:{type:"string",enum:["top","bottom","left","right"],enumextra:["top","bottom","left","right"]},description:"面板指示点位置",isRequired:!1,readOnly:!1,default:"bottom"},dots:{type:"boolean",title:"显示指示点",format:"boolean",default:!0,description:"是否显示面板指示点",isRequired:!1,readOnly:!1},easing:{type:"string",title:"动画效果",format:"input",default:"linear",description:"",placeholder:"",isRequired:!1,readOnly:!1}},required:["autoplay","dotPosition","dots","easing"],propertyOrder:["autoplay","dotPosition","dots","easing"]},style:{type:"object",format:"style",title:"样式设置",readOnly:!1,properties:{height:{type:"object",format:"quantity",title:"轮播图高度",isRequired:!1,readOnly:!1,properties:{unit:{type:"number",title:"单位数值",format:"number",default:250,minimum:0,maximum:1e3,description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"]},width:{type:"object",format:"quantity",title:"轮播图宽度",isRequired:!1,readOnly:!1,properties:{unit:{type:"number",title:"单位数值",format:"number",default:300,minimum:0,maximum:1e3,description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"]},padding:{type:"object",format:"box-style",title:"内边距",isRequired:!1,readOnly:!1,properties:{unit:{type:"string",title:"单位数值",format:"string",default:"0",description:"",isRequired:!1,readOnly:!1},quantity:{type:"string",format:"typeSelect",default:"px",enum:["px","rem","em","%"],enumextra:["px","rem","em","%"],title:"单位类型",isRequired:!1,readOnly:!1}},required:["unit","quantity"],propertyOrder:["unit","quantity"]}},required:["height","width","padding"],propertyOrder:["padding","width","height"]},data:{type:"object",format:"data",title:"数据设置",readOnly:!1,properties:{imgList:{type:"array",format:"array",title:"图片列表",description:"面包屑数据内容",isRequired:!1,readOnly:!1,items:{type:"object",format:"object",title:"数组项",description:"",isRequired:!1,readOnly:!1,properties:{src:{type:"string",title:"图片地址",format:"url",default:"https://storage.360buyimg.com/jdw-web/1.53.0/img/our-bg-4.444d763d.png",description:"",placeholder:"",isRequired:!1,readOnly:!1}},required:["src"],propertyOrder:["src"]},"minimum-child":2}},required:["imgList"],propertyOrder:["imgList"]},event:{type:"object",format:"event-schema",title:"事件设置",isFixedSchema:!0,readOnly:!1,properties:{},required:[],propertyOrder:[]}},required:["props","style","data","event"],propertyOrder:["props","style","data","event"],lastUpdateTime:"2021-05-09T03:19:01.583Z"},mockData:'{"props":{"autoplay":true,"dotPosition":"bottom","dots":true,"easing":"linear"},"style":{"padding":{"unit":"8px 8px 30px 8px","quantity":"px"},"width":{"unit":1024,"quantity":"px"},"height":{"unit":700,"quantity":"px"}},"data":{"imgList":[{"src":"https://storage.360buyimg.com/jdw-oss-prod-image-space/84e20dab-973e-4384-b1f8-a3466b9f3533.png"},{"src":"https://storage.360buyimg.com/jdw-oss-prod-image-space/a7c4563f-358d-4ddd-984d-0a47630e3e45.png"},{"src":"https://storage.360buyimg.com/jdw-oss-prod-image-space/22224243-b787-4fba-8ecd-87854b415c8c.png"}]},"event":{}}'}}],style:{margin:{unit:"0px auto 0px auto",quantity:"px"},padding:{unit:"66px 0px 50px 0px",quantity:"px"},flex:"1 1 auto",flexBasis:{unit:1024,quantity:"px"},fixedHeight:!1,height:{unit:200,quantity:"px"},backgroundColor:"initial",flexDirection:"column",flexWrap:"nowrap",justifyContent:"flex-start",alignItems:"center",hasBorder:!1,borderStyle:"solid",borderWidth:{unit:"1",quantity:"px"},borderColor:"#878787",borderRadius:{unit:"0",quantity:"px"},hasBoxShadow:!1,hShadow:{unit:5,quantity:"px"},vShadow:{unit:5,quantity:"px"},shadowBlur:{unit:5,quantity:"px"},shadowSpread:{unit:5,quantity:"px"},shadowColor:"#949494",hasBackgroundImage:!0,backgroundImage:"//img12.360buyimg.com/imagetools/s1440x720_jfs/t1/147390/18/9643/1002420/5f71bdaeE8cfba326/361a8db48ebf1831.png!q80",backgroundRepeatX:"no-repeat",backgroundRepeatY:"no-repeat",backgroundOrigin:"padding-box",backgroundSize:"cover"},elemName:"",elemId:"",elemVisible:!0}],style:{margin:{unit:"0",quantity:"px"},padding:{unit:"0px 0px 0px 0px",quantity:"px"},fixedWidth:!1,width:{unit:300,quantity:"px"},fixedHeight:!1,height:{unit:200,quantity:"px"},flexWrap:"nowrap",justifyContent:"flex-start",backgroundColor:"initial",hasBorder:!1,borderStyle:"solid",borderWidth:{unit:"1",quantity:"px"},borderColor:"#878787",hasBoxShadow:!1,hShadow:{unit:5,quantity:"px"},vShadow:{unit:5,quantity:"px"},shadowBlur:{unit:5,quantity:"px"},shadowSpread:{unit:5,quantity:"px"},shadowColor:"#949494",borderRadius:{unit:"0",quantity:"px"},hasBackgroundImage:!1,backgroundImage:"https://storage.360buyimg.com/imgtools/42a6a16744-36f9a5f0-c7da-11ea-bc83-0146fbd6f0f1.png",backgroundRepeatX:"no-repeat",backgroundRepeatY:"no-repeat",backgroundOrigin:"padding-box",backgroundSize:"cover"},elemName:"",elemId:"",elemVisible:!0}]}],currentActiveIndex:"",widgetSchema:{},mockData:{},dynamicDataList:[{id:3,projectId:97,type:"1",title:"获取项目数据源接口列表",name:"getProjectDataSource",desc:"获取项目数据源接口列表数组",url:"http://dev.jd.com:4000/project_datasource",method:"GET",headers:'{"user-agent":"UA/chrome","content-type":"application/json"}',options:'{"cache":"no-cache","credentials":"*","mode":"cors","redirect":"follow"}',reqParams:'{"param1":{"title":"参数名称","scope":"static","value":"111"},"param2":{"title":"参数名称","scope":"window","name":"PARAM1","value":"111"},"pageId":{"title":"页面id","scope":"hash","name":"pId","value":"111"}}',dynamicParams:'{"param5":{"title":"参数名称","scope":"url","name":"pageId","value":"111"},"param7":{"title":"参数名称","scope":"dynamic","dataName":"api3","body":{"param2":{"title":"参数名称","scope":"static","value":"222"},"param3":{"title":"参数名称","scope":"static","value":"333"}}}}',respMock:'{"code":0,"data":[{"id":3,"projectId":89,"type":"1","title":"获取项目数据源","name":"getProjectDataSource","desc":"获取项目数据源","url":"http://dev.jd.com:4000/project_datasource","method":"GET","headers":"{\\"user-agent\\":\\"chrome\\",\\"content-type\\":\\"application/json\\"}","options":"{\\"cache\\":\\"no-cache\\",\\"credentials\\":\\"same-origin\\",\\"mode\\":\\"cors\\",\\"redirect\\":\\"follow\\"}","reqParams":"{\\"param1\\":{\\"title\\":\\"参数名称\\",\\"scope\\":\\"static\\",\\"value\\":\\"111\\"},\\"param2\\":{\\"title\\":\\"参数名称\\",\\"scope\\":\\"window\\",\\"name\\":\\"PARAM1\\",\\"value\\":\\"111\\"},\\"pageId\\":{\\"title\\":\\"页面id\\",\\"scope\\":\\"hash\\",\\"name\\":\\"pId\\",\\"value\\":\\"111\\"}}","dynamicParams":"{\\"param5\\":{\\"title\\":\\"参数名称\\",\\"scope\\":\\"url\\",\\"name\\":\\"pageId\\",\\"value\\":\\"111\\"},\\"param7\\":{\\"title\\":\\"参数名称\\",\\"scope\\":\\"dynamic\\",\\"dataName\\":\\"api3\\",\\"body\\":{\\"param2\\":{\\"title\\":\\"参数名称\\",\\"scope\\":\\"static\\",\\"value\\":\\"222\\"},\\"param3\\":{\\"title\\":\\"参数名称\\",\\"scope\\":\\"static\\",\\"value\\":\\"333\\"}}}}","respMock":"{}","creatorId":2,"createdAt":"2020-08-20T03:09:29.000Z","updatedAt":"2020-08-20T03:09:29.000Z","deletedAt":null,"creator":{"id":2,"erp":"wangjianhui16"},"dataName":"getProjectDataSource","body":{"param1":{"title":"参数名称","scope":"static","value":"111"},"param2":{"title":"参数名称","scope":"window","name":"PARAM1","value":"111"},"pageId":{"title":"页面id","scope":"hash","name":"pId","value":"111"},"param5":{"title":"参数名称","scope":"url","name":"pageId","value":"111"},"param7":{"title":"参数名称","scope":"dynamic","dataName":"api3","body":{"param2":{"title":"参数名称","scope":"static","value":"222"},"param3":{"title":"参数名称","scope":"static","value":"333"}}}}}]}',creatorId:2,createdAt:"2020-08-20T03:09:29.000Z",updatedAt:"2020-08-20T12:40:19.000Z",deletedAt:null,creator:{id:2,erp:"wangjianhui16"},dataName:"getProjectDataSource",body:'{"param1":{"title":"参数名称","scope":"static","value":"111"},"param2":{"title":"参数名称","scope":"window","name":"PARAM1","value":"111"},"pageId":{"title":"页面id","scope":"hash","name":"pId","value":"111"},"param5":{"title":"参数名称","scope":"url","name":"pageId","value":"111"},"param7":{"title":"参数名称","scope":"dynamic","dataName":"api3","body":{"param2":{"title":"参数名称","scope":"static","value":"222"},"param3":{"title":"参数名称","scope":"static","value":"333"}}}}'},{id:4,projectId:97,type:"1",title:"getAttr2",name:"getAttr2",desc:"getAttr2",url:"http://getAttr2",method:"POST",headers:null,options:null,reqParams:null,dynamicParams:'{\n          "param1": {\n            "title": "参数名称",\n            "scope": "static",\n            "value": "111"\n          },\n          "param2": {\n            "title": "参数名称",\n            "scope": "window",\n            "name": "PARAM1",\n            "value": "111"\n          },\n          "pageId": {\n            "title": "页面id",\n            "scope": "hash",\n            "name": "pId",\n            "value": "111"\n          }\n        }\n',respMock:null,creatorId:2,createdAt:"2020-08-20T14:54:17.000Z",updatedAt:"2020-08-20T14:54:17.000Z",deletedAt:null,creator:{id:2,erp:"wangjianhui16"},dataName:"getAttr2",body:'{"param1":{"title":"参数名称","scope":"static","value":"111"},"param2":{"title":"参数名称","scope":"window","name":"PARAM1","value":"111"},"pageId":{"title":"页面id","scope":"hash","name":"pId","value":"111"}}'}],wideScreen:!1,jsonView:!1,schemaCodeView:!1,viewStyle:"tabs"},r}return O()(t,e),t.prototype.render=function(){var e=this,t=this.state,r=t.widgetLayout,i=t.currentActiveIndex,a=t.widgetSchema,n=t.mockData,o=t.dynamicDataList,p=t.wideScreen,c=t.schemaCodeView,d=t.jsonView,u=t.viewStyle;return w.createElement(w.Fragment,null,w.createElement("div",{className:"title-container"},w.createElement("div",{className:"title1-box"},w.createElement("p",null,w.createElement("b",{className:"title-name"},"WidgetSchemaEditor"),": UI组件模型设置，"),w.createElement("div",null,w.createElement("b",null,"自定义展示"),":   ",w.createElement(x.a,{style:{display:"inline-block"},defaultChecked:c,checkedChildren:"code",unCheckedChildren:"view",onChange:function(t){e.setState({schemaCodeView:t})}}))),w.createElement("div",{className:"title2-box "+(p?"":"mobile-view")},w.createElement("p",null,w.createElement("b",{className:"title-name"},"JSONEditor"),": 当前组件配置面板"),w.createElement("div",null,w.createElement("b",null,"自定义展示"),":   ",w.createElement(x.a,{style:{display:"inline-block"},defaultChecked:p,checkedChildren:"大屏",unCheckedChildren:"小屏",onChange:function(t){e.setState({wideScreen:t})}}),"  ",w.createElement(x.a,{style:{display:"inline-block"},defaultChecked:"tabs"===u,checkedChildren:"tabs",unCheckedChildren:"fold",onChange:function(t){e.setState({viewStyle:t?"tabs":"fold"})}}),"  ",w.createElement(x.a,{style:{display:"inline-block"},defaultChecked:d,checkedChildren:"code",unCheckedChildren:"view",onChange:function(t){e.setState({jsonView:t})}})))),w.createElement("div",{className:"json-action-container"},w.createElement("div",{className:"json-schema-box"},!c&&w.createElement(nt,{currentWidgetLayout:r,currentActiveIndex:i,updateCurrentActiveIndex:this.updateCurrentActiveIndex,widgetSchema:a,mockData:n,onChange:function(t){console.log("schemaDataChange",t),e.setState({widgetSchema:t}),console.log("从widgetLayout中自动获取mockData：");var i=function(e,t){var r={};if(e&&e.properties&&e.propertyOrder)for(var i=0,a=e.propertyOrder.length;i<a;i++){var n=e.propertyOrder[i],o=e.properties[n];r[n]=F(o,t)}return r}(t,r);console.log(i)}}),c&&w.createElement(pt.a,{id:"json_area_ace",value:JSON.stringify(r,null,2),className:"json-view-ace",mode:"json",theme:"solarized_light",name:"JSON_CODE_EDIT",fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,readOnly:!1,minLines:5,maxLines:33,width:"100%",setOptions:{useWorker:!1,showLineNumbers:!0,tabSize:2}})),w.createElement("div",{className:"json-editor-box "+(p?"":"mobile-view")},w.createElement(C.a,{viewStyle:u,jsonView:d,wideScreen:p,schemaData:a,jsonData:n,dynamicDataList:o,onChange:function(t){console.log("jsonDataChange",t),e.setState({mockData:t})}}))))},t}(w.PureComponent));q.a.render(w.createElement("div",null,w.createElement("h1",{className:"demoTitle"},"组件模型设置（添加配置项）Demo"),w.createElement("br",null),w.createElement(ct,null)),document.getElementById("root"))}});